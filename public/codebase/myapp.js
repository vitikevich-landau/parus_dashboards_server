!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=42)}([function(t,e,n){"use strict";n.d(e,"d",(function(){return H})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return v}));var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function t(){a(this,t)},u=function(){function t(e){a(this,t),this.webixJet=!0,this.webix=e,this._events=[],this._subs={},this._data={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null},t.prototype.setParam=function(t,e,n){if(this._data[t]!==e&&(this._data[t]=e,this._segment.update(t,e,0),n))return this.show(null)},t.prototype.getParam=function(t,e){var n=this._data[t];if(void 0!==n||!e)return n;var r=this.getParentView();return r?r.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._segment.suburl()},t.prototype.getUrlString=function(){return this._segment.toString()},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView((function(n){return(n.config.id===t||n.config.localId===t)&&n.$scope===e.$scope}),"self")}return t},t.prototype.on=function(t,e,n){var r=t.attachEvent(e,n);return this._events.push({obj:t,id:r}),r},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:"_top"===t?(this._subs[t]={url:"",id:null,popup:!0},this.getSubViewInfo(t)):this._parent?this._parent.getSubViewInfo(t):null},t.prototype._detachEvents=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id)},t.prototype._destroySubs=function(){for(var t in this._subs){var e=this._subs[t].view;e&&e.destructor()}this._subs={}},t.prototype._init_url_data=function(){var t=this._segment.current();this._data={},this.webix.extend(this._data,t.params,!0)},t.prototype._getDefaultSub=function(){if(this._subs.default)return this._subs.default;for(var t in this._subs){var e=this._subs[t];if(!e.branch&&e.view&&"_top"!==t){var n=e.view._getDefaultSub();if(n)return n}}},t.prototype._routed_view=function(){var t=this.getParentView();if(!t)return!0;var e=t._getDefaultSub();return!(!e&&e!==this)&&t._routed_view()},t}();function c(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var o=e[r],i={},a=o.indexOf(":");if(-1===a&&(a=o.indexOf("?")),-1!==a){var s=o.substr(a+1).split(/[\:\?\&]/g),u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l.split("=");i[f[0]]=decodeURIComponent(f[1])}}n[r]={page:a>-1?o.substr(0,a):o,params:i,isNew:!0}}return n}function l(t){var e=[],n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;e.push("/"+a.page);var s=f(a.params);s&&e.push("?"+s)}return e.join("")}function f(t){var e=[];for(var n in t)e.length&&e.push("&"),e.push(n+"="+encodeURIComponent(t[n]));return e.join("")}var p=function(){function t(e,n){a(this,t),this._next=1,this.route="string"==typeof e?{url:c(e),path:e}:e,this.index=n}return t.prototype.current=function(){return this.route.url[this.index]},t.prototype.next=function(){return this.route.url[this.index+this._next]},t.prototype.suburl=function(){return this.route.url.slice(this.index)},t.prototype.shift=function(){return new t(this.route,this.index+this._next)},t.prototype.refresh=function(){for(var t=this.route.url,e=this.index+1;e<t.length;e++)t[e].isNew=!0},t.prototype.toString=function(){var t=l(this.suburl());return t?t.substr(1):""},t.prototype._join=function(t,e){var n=this.route.url;if(null===t)return n;var r=this.route.url;if(n=r.slice(0,this.index+(e?this._next:0)),t){n=n.concat(c(t));for(var o=0;o<n.length;o++)r[o]&&(n[o].view=r[o].view),r[o]&&n[o].page===r[o].page&&(n[o].isNew=!1)}return n},t.prototype.append=function(t){var e=this._join(t,!0);return this.route.path=l(e),this.route.url=e,this.route.path},t.prototype.show=function(t,e,n){var r=this,o=this._join(t,n);return new Promise((function(t,n){var i=l(o),a={url:o,redirect:i,confirm:Promise.resolve()},u=e?e.app:null;if(u&&!u.callEvent("app:guard",[a.redirect,e,a]))return void n(new s);a.confirm.catch((function(t){return n(t)})).then((function(){if(null!==a.redirect){if(a.redirect!==i)return u.show(a.redirect),void n(new s);r.route.path=i,r.route.url=o,t()}else n(new s)}))}))},t.prototype.size=function(t){this._next=t},t.prototype.split=function(){var e={url:this.route.url.slice(this.index+1),path:""};return e.url.length&&(e.path=l(e.url)),new t(e,0)},t.prototype.update=function(t,e,n){var r=this.route.url[this.index+(n||0)];if(!r)return this.route.url.push({page:"",params:{}}),this.update(t,e,n);""===t?r.page=e:r.params[t]=e,this.route.path=l(this.route.url)},t}(),h=function(t){function e(n,r){a(this,e);var i=o(this,t.call(this,n.webix));return i.app=n,i._children=[],i}return i(e,t),e.prototype.ui=function(t,e){var n=(e=e||{}).container||t.container,o=this.app.createView(t);return this._children.push(o),o.render(n,this._segment,this),"object"!==(void 0===t?"undefined":r(t))||t instanceof u?o:o.getRoot()},e.prototype.show=function(t,e){if(e=e||{},"object"===(void 0===t?"undefined":r(t))){for(var n in t)this.setParam(n,t[n]);t=null}else{if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var o=this.getParentView();return o?o.show(t.substr(3),e):this.app.show("/"+t.substr(3))}var i=this.getSubViewInfo(e.target);if(i){if(i.parent!==this)return i.parent.show(t,e);if(e.target&&"default"!==e.target)return this._renderFrameLock(e.target,i.subview,t)}else if(t)return this.app.show("/"+t)}return this._show(this._segment,t,this)},e.prototype._show=function(t,e,n){var r=this;return t.show(e,n,!0).then((function(){return r._init_url_data(),r._urlChange()})).then((function(){t.route.linkRouter&&(r.app.getRouter().set(t.route.path,{silent:!0}),r.app.callEvent("app:route",[t.route.path]))}))},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy(),this._destroyKids(),this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype.refresh=function(){this.getUrl();return this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)},e.prototype.render=function(t,e,n){var r=this;"string"==typeof e&&(e=new p(e,0)),this._segment=e,this._parent=n,this._init_url_data();var o="string"==typeof(t=t||document.body)?this.webix.toNode(t):t;return this._container!==o?(this._container=o,this._render(e)):this._urlChange().then((function(){return r.getRoot()}))},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then((function(n){return e._render_final(n,t)})):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,r=null,o=null,i=!1;if(this._container.tagName?o=this._container:(r=this._container).popup?(o=document.body,i=!0):o=this.webix.$$(r.id),!this.app||!o)return Promise.reject(null);var a=void 0,s=this._segment.current(),u={ui:{}};this.app.copyConfig(t,u.ui,this._subs),this.app.callEvent("app:render",[this,e,u]),u.ui.$scope=this,!r&&s.isNew&&s.view&&s.view.destructor();try{if(r&&!i){var c=o,l=c.getParentView();l&&"multiview"===l.name&&!u.ui.id&&(u.ui.id=c.config.id)}this._root=this.app.webix.ui(u.ui,o);var f=this._root;i&&f.setPosition&&!f.isVisible()&&f.show(),r&&(r.view&&r.view!==this&&r.view!==this.app&&r.view.destructor(),r.id=this._root.config.id,this.getParentView()||!this.app.app?r.view=this:r.view=this.app),s.isNew&&(s.view=this,s.isNew=!1),a=Promise.resolve(this._init(this._root,e)).then((function(){return n._urlChange().then((function(){return n._initUrl=null,n.ready(n._root,e.suburl())}))}))}catch(t){a=Promise.reject(t)}return a.catch((function(t){return n._initError(n,t)}))},e.prototype._init=function(t,e){return this.init(t,e.suburl())},e.prototype._urlChange=function(){var t=this;this.app.callEvent("app:urlchange",[this,this._segment]);var e=[];for(var n in this._subs){var r=this._subs[n],o=this._renderFrameLock(n,r,null);o&&e.push(o)}return Promise.all(e).then((function(){return t.urlChange(t._root,t._segment.suburl())}))},e.prototype._renderFrameLock=function(t,e,n){if(!e.lock){var r=this._renderFrame(t,e,n);r&&(e.lock=r.then((function(){return e.lock=null}),(function(){return e.lock=null})))}return e.lock},e.prototype._renderFrame=function(t,e,n){var r=this;if("default"===t){if(this._segment.next())return this._createSubView(e,this._segment.shift());e.view&&e.popup&&(e.view.destructor(),e.view=null)}if(null!==n&&(e.url=n),e.route){if(null!==n)return e.route.show(n,e.view).then((function(){return r._createSubView(e,e.route)}));if(e.branch)return}var o=e.view;if(!o&&e.url){if("string"==typeof e.url)return e.route=new p(e.url,0),this._createSubView(e,e.route);"function"!=typeof e.url||o instanceof e.url||(o=new e.url(this.app,"")),o||(o=e.url)}if(o)return o.render(e,e.route||this._segment,this)},e.prototype._initError=function(t,e){return this.app&&this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e.current()).then((function(r){return r.render(t,e,n)}))},e.prototype._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(u),d=function(t){function e(n,r){a(this,e);var i=o(this,t.call(this,n,r));return i._ui=r.ui,i}return i(e,t),e.prototype.config=function(){return this._ui},e}(h),b=function(){function t(e,n,r){a(this,t),this.path="",this.app=r}return t.prototype.set=function(t,e){this.path=t;var n=this.app;n.app.getRouter().set(n._segment.append(this.path),{silent:!0})},t.prototype.get=function(){return this.path},t}(),y=!0,w=function(t){function e(n){a(this,e);var r=(n||{}).webix||window.webix,i=o(this,t.call(this,r));return i.config=i.webix.extend({name:"App",version:"1.0",start:"/home"},n,!0),i.app=i.config.app,i.ready=Promise.resolve(),i._services={},i.webix.extend(i,i.webix.EventSystem),i}return i(e,t),e.prototype.getUrl=function(){return this._subSegment.suburl()},e.prototype.getUrlString=function(){return this._subSegment.toString()},e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.destructor=function(){this.getSubView().destructor(),t.prototype.destructor.call(this)},e.prototype.copyConfig=function(t,e,n){if((t instanceof u||"function"==typeof t&&t.prototype instanceof u)&&(t={$subview:t}),void 0!==t.$subview)return this.addSubView(t,e,n);for(var o in e=e||(t instanceof Array?[]:{}),t){var i=t[o];if("function"==typeof i&&i.prototype instanceof u&&(i={$subview:i}),!i||"object"!==(void 0===i?"undefined":r(i))||i instanceof this.webix.DataCollection||i instanceof RegExp||i instanceof Map)e[o]=i;else if(i instanceof Date)e[o]=new Date(i);else{var a=this.copyConfig(i,i instanceof Array?[]:{},n);null!==a&&(e[o]=a)}}return e},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t,e){if(t&&(e=e||t.target||t.srcElement)&&e.getAttribute){var n=e.getAttribute("trigger");if(n)return this._forView(e,(function(t){return t.app.trigger(n)})),t.cancelBubble=!0,t.preventDefault();var r=e.getAttribute("route");if(r)return this._forView(e,(function(t){return t.show(r)})),t.cancelBubble=!0,t.preventDefault()}var o=e.parentNode;o&&this.clickHandler(t,o)},e.prototype.getRoot=function(){return this.getSubView().getRoot()},e.prototype.refresh=function(){var t=this;return this._subSegment?this.getSubView().refresh().then((function(e){return t.callEvent("app:route",[t.getUrl()]),e})):Promise.resolve(null)},e.prototype.loadView=function(t){var e=this,n=this.config.views,r=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{n&&"string"==typeof(r="function"==typeof n?n(t):n[t])&&(t=r,r=null),r||(r="_blank"===t?{}:this._loadViewDynamic(t))}catch(e){r=this._loadError(t,e)}return r.then||(r=Promise.resolve(r)),r=r.then((function(t){return t.__esModule?t.default:t})).catch((function(n){return e._loadError(t,n)}))},e.prototype._forView=function(t,e){var n=this.webix.$$(t);n&&e(n.$scope)},e.prototype._loadViewDynamic=function(t){return null},e.prototype.createFromURL=function(t){var e=this;return t.isNew||!t.view?this.loadView(t.page).then((function(t){return e.createView(t,name)})):Promise.resolve(t.view)},e.prototype.createView=function(t,n){if("function"==typeof t){if(t.prototype instanceof e)return new t({app:this,name:n,router:b});if(t.prototype instanceof u)return new t(this,{name:n});t=t(this)}return t instanceof u?t:new d(this,{name:n,ui:t})},e.prototype.show=function(t){return this.render(this._container,t||this.config.start)},e.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.apply(t,n)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.apply(t,n)}),this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var n=0;n<e.length;n++)if(console.error(e[n]),e[n]instanceof Error){var r=e[n].message;0===r.indexOf("Module build failed")?(r=r.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+r+"</pre>"):(r+="<br><br>Check console for more details",this.webix.message({type:"error",text:r,expire:-1}))}},e.prototype.render=function(t,e,n){var r=this;this._container="string"==typeof t?this.webix.toNode(t):t||document.body;var o=null;!this.$router?(y&&"tagName"in this._container&&(this.webix.event(document.body,"click",(function(t){return r.clickHandler(t)})),y=!1),"string"==typeof e&&(e=new p(e,0)),this._subSegment=this._first_start(e),this._subSegment.route.linkRouter=!0):o="string"==typeof e?e:this.app?e.split().route.path||this.config.start:e.toString();var i=this.getSubView(),a=this._subSegment,s=a.show(o,i).then((function(){return r.createFromURL(a.current())})).then((function(e){return e.render(t,a)})).then((function(t){return r.$router.set(a.route.path,{silent:!0}),r.callEvent("app:route",[r.getUrl()]),t}));return this.ready=this.ready.then((function(){return s})),s},e.prototype.getSubView=function(){if(this._subSegment){var t=this._subSegment.current().view;if(t)return t}return new h(this,{})},e.prototype._first_start=function(t){var e=this;this._segment=t;if(this.$router=new this.config.router((function(t){return setTimeout((function(){e.show(t).catch((function(t){if(!(t instanceof s))throw t}))}),1)}),this.config,this),this._container===document.body&&!1!==this.config.animation){var n=this._container;this.webix.html.addCss(n,"webixappstart"),setTimeout((function(){e.webix.html.removeCss(n,"webixappstart"),e.webix.html.addCss(n,"webixapp")}),10)}if(t)this.app&&(t.current().view=this,t.next()?(t.refresh(),t=t.split()):t=new p(this.config.start,0));else{var r=this.$router.get();r||(r=this.config.start,this.$router.set(r,{silent:!0})),t=new p(r,0)}return t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var r=!0!==t.$subview?t.$subview:null,o=t.name||(r?this.webix.uid():"default");return e.id=t.id||"s"+this.webix.uid(),(n[o]={id:e.id,url:r,branch:t.branch,popup:t.popup}).popup?null:e},e}(u),v=function(){function t(e,n){var r=this;a(this,t),this.config=n||{},this._detectPrefix(),this.cb=e,window.onpopstate=function(){return r.cb(r.get())}}return t.prototype.set=function(t,e){var n=this;if(this.config.routes){var r=t.split("?",2);for(var o in this.config.routes)if(this.config.routes[o]===r[0]){t=o+(r.length>1?"?"+r[1]:"");break}}this.get()!==t&&window.history.pushState(null,null,this.prefix+this.sufix+t),e&&e.silent||setTimeout((function(){return n.cb(t)}),1)},t.prototype.get=function(){var t=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(t="/"!==t&&"#"!==t?t:"",this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t.prototype._detectPrefix=function(){var t=this.config.routerPrefix;this.sufix="#"+(void 0===t?"!":t),this.prefix=document.location.href.split("#",2)[0]},t.prototype._getRaw=function(){return document.location.href},t}(),g=!1;function m(t){if(!g&&t){g=!0;var e=window;e.Promise||(e.Promise=t.promise);var n=t.version.split(".");10*n[0]+1*n[1]<53&&(t.ui.freeze=function(e){var n=e();return n&&n.then?n.then((function(e){return t.ui.$freeze=!1,t.ui.resize(),e})):(t.ui.$freeze=!1,t.ui.resize()),n});var o=t.ui.baselayout.prototype.addView,i=t.ui.baselayout.prototype.removeView,a={addView:function(t,e){var n=this;if(!this.$scope||!this.$scope.webixJet||t.queryView)return o.apply(this,arguments);var i=function(){var r=n.$scope,i={};t=r.app.copyConfig(t,{},i),o.apply(n,[t,e]);var a=function(t){r._renderFrame(t,i[t],null).then((function(){r._subs[t]=i[t]}))};for(var s in i)a(s);return{v:t.id}}();return"object"===(void 0===i?"undefined":r(i))?i.v:void 0},removeView:function(){if(i.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var n in e){var r=e[n];t.$$(r.id)||(r.view.destructor(),delete e[n])}}}};t.extend(t.ui.layout.prototype,a,!0),t.extend(t.ui.baselayout.prototype,a,!0),t.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var n=t.uid().toString();for(var r in e.body={id:n},this.$ready.push((function(){this.$app.render({id:n})})),this.$app){var o=this.$app[r];"function"!=typeof o||this[r]||(this[r]=o.bind(this.$app))}}},t.ui.proxy)}}var _=function(t){function e(n){a(this,e),n.router=n.router||v;var r=o(this,t.call(this,n));return m(r.webix),r}return i(e,t),e.prototype._loadViewDynamic=function(t){return t=t.replace(/\./g,"/"),n(44)("./"+t)},e}(w);(function(){function t(e,n,r){a(this,t),this.storage=n.storage||r.webix.storage.session,this.name=n.storeName||n.id+":route",this.cb=e}t.prototype.set=function(t,e){var n=this;this.storage.put(this.name,t),e&&e.silent||setTimeout((function(){return n.cb(t)}),1)},t.prototype.get=function(){return this.storage.get(this.name)}})(),function(t){function e(){return a(this,e),o(this,t.apply(this,arguments))}i(e,t),e.prototype._detectPrefix=function(){this.prefix="",this.sufix=this.config.routerPrefix||""},e.prototype._getRaw=function(){return document.location.pathname+(document.location.search||"")}}(v),function(){function t(e,n){a(this,t),this.path="",this.cb=e}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout((function(){return n.cb(t)}),1)},t.prototype.get=function(){return this.path}}();function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e,n){for(var r in t)x(t,r)&&e.call(n||t,t[r],r,t)}function j(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}var E=String.prototype.replace,P=String.prototype.split,S=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},T={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:S,chinese:function(){return 0},croatian:S,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:S,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},C={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function D(t){var e,n=(e={},O(C,(function(t,n){O(t,(function(t){e[t]=n}))})),e);return n[t]||n[P.call(t,/-/,1)[0]]||n.en}function V(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var k=/\$/g,$=/%\{(.*?)\}/g;function M(t,e,n,r){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var o=t,i=r||$,a="number"==typeof e?{smart_count:e}:e;if(null!=a.smart_count&&o){var s=P.call(o,"||||");o=(s[function(t,e){return T[D(t)](e)}(n||"en",a.smart_count)]||s[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return o=E.call(o,i,(function(t,e){return x(a,e)&&null!=a[e]?E.call(a[e],k,"$$"):t}))}function R(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?M:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||j,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if("||||"===e||"||||"===n)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(V(e)+"(.*?)"+V(n),"g")}(e.interpolation)}R.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},R.prototype.extend=function(t,e){O(t,(function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":r(t))?this.extend(t,o):this.phrases[o]=t}),this)},R.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:O(t,(function(t,n){var o=e?e+"."+n:n;"object"===(void 0===t?"undefined":r(t))?this.unset(t,o):delete this.phrases[o]}),this)},R.prototype.clear=function(){this.phrases={}},R.prototype.replace=function(t){this.clear(),this.extend(t)},R.prototype.t=function(t,e){var n,r,o=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){r=(0,this.onMissingKey)(t,o,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),r=t;return"string"==typeof n&&(r=M(n,o,this.currentLocale,this.tokenRegex)),r},R.prototype.has=function(t){return x(this.phrases,t)},R.transformPhrase=function(t,e,n){return M(t,e,n)};var A=R;function L(t,e,n){if(e.urls)n=e.urls[n]||n;else if(e.param){var r;(r={})[e.param]=n,n=r}t.show(n)}var I={good:"check",error:"warning",saving:"refresh fa-spin"},U={good:"Ok",error:"Error",saving:"Connecting..."};function N(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r+1]?e[r+1].page:""}var F=window.webix;F&&m(F);var H={UnloadGuard:function(t,e,n){e.on(t,"app:guard",(function(t,r,o){if(r===e||r.contains(e)){var i=n();o.confirm=!1===i?Promise.reject(new s):o.confirm.then((function(){return i}))}}))},Locale:function(t,e,r){var o=(r=r||{}).storage,i=o?o.get("lang")||"en":r.lang||"en";function a(e,n,a){n.__esModule&&(n=n.default);var s={phrases:n};r.polyglot&&t.webix.extend(s,r.polyglot);var c=u.polyglot=new A(s);if(c.locale(e),u._=t.webix.bind(c.t,c),i=e,o&&o.put("lang",i),r.webix){var l=r.webix[e];l&&t.webix.i18n.setLocale(l)}return a?Promise.resolve():t.refresh()}function s(t,e){if(!1!==r.path){var o=(r.path?r.path+"/":"")+t;a(t,n(45)("./"+o),e)}}var u={getLang:function(){return i},setLang:s,setLangData:a,_:null,polyglot:null};t.setService("locale",u),s(i,!0)},Menu:function(t,e,n){var r=e.getSubViewInfo().parent,o=e.$$(n.id||n),i=!1;o.attachEvent("onchange",(function(){i||L(r,n,this.getValue())})),o.attachEvent("onafterselect",(function(){if(!i){var t=null;o.setValue?t=this.getValue():o.getSelectedId&&(t=o.getSelectedId()),L(r,n,t)}})),e.on(t,"app:route",(function(){var t="";if(n.param)t=e.getParam(n.param,!0);else{var a=r.getUrl()[1];a&&(t=a.page)}t&&(i=!0,o.setValue&&o.getValue()!==t?o.setValue(t):o.select&&o.exists(t)&&o.getSelectedId()!==t&&o.select(t),i=!1)}))},Theme:function(t,e,n){var r=(n=n||{}).storage,o=r?r.get("theme")||"flat-default":n.theme||"flat-default",i={getTheme:function(){return o},setTheme:function(e,n){for(var i=e.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s].getAttribute("title");u&&(u===e||u===i[0]?a[s].disabled=!1:a[s].disabled=!0)}t.webix.skin.set(i[0]),t.webix.html.removeCss(document.body,"theme-"+o),t.webix.html.addCss(document.body,"theme-"+e),o=e,r&&r.put("theme",e),n||t.refresh()}};t.setService("theme",i),i.setTheme(o,!0)},User:function(t,e,n){var r=(n=n||{}).login||"/login",o=n.logout||"/logout",i=n.afterLogin||t.config.start,a=n.afterLogout||"/login",s=n.ping||3e5,u=n.model,c=n.user,l={getUser:function(){return c},getStatus:function(t){return t?u.status().catch((function(){return null})).then((function(t){c=t})):null!==c},login:function(e,n){return u.login(e,n).then((function(e){if(c=e,!e)throw new Error("Access denied");t.callEvent("app:user:login",[c]),t.show(i)}))},logout:function(){return c=null,u.logout().then((function(e){return t.callEvent("app:user:logout",[]),e}))}};function f(t,e){t===o?(l.logout(),e.redirect=a):t===r||l.getStatus()||(e.redirect=r)}t.setService("user",l),t.attachEvent("app:guard",(function(t,e,r){return!(!n.public||!n.public(t))||(void 0===c&&(r.confirm=l.getStatus(!0).then((function(){return f(t,r)}))),f(t,r))})),s&&setInterval((function(){return l.getStatus(!0)}),s)},Status:function(t,e,n){var r="good",o=0,i=!1,a=n.expire;a||!1===a||(a=2e3);var s=n.texts||U,u=n.icons||I;function c(t){var o=e.$$(n.target);o&&(t||(t="<div class='status_"+r+"'><span class='webix_icon fa-"+u[r]+"'></span> "+s[r]+"</div>"),o.setHTML(t))}function l(){o--,d("good")}function f(t){o--,d("error",t)}function p(t){o++,d("saving"),t&&t.then&&t.then(l,f)}function h(){0===o&&c(" ")}function d(e,n){o<0&&(o=0),"saving"===e?(r="saving",c()):(i="error"===e,0===o&&(r=i?"error":"good",i?t.error("app:error:server",[n.responseText||n]):a&&setTimeout(h,a),c()))}function b(n){var r=t.webix.dp(n);r&&(e.on(r,"onAfterDataSend",p),e.on(r,"onAfterSaveError",(function(t,e,n){return f(n)})),e.on(r,"onAfterSave",l))}"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:function(){return r},setStatus:d,track:b}),n.remote&&e.on(t.webix,"onRemoteCall",p),n.ajax&&e.on(t.webix,"onBeforeAjax",(function(t,e,n,r,o,i,a){p(a)})),n.data&&b(n.data)},UrlParam:function(t,e,n){var r=n.route||n,o={};e.on(t,"app:urlchange",(function(t,n){e===t&&(N(o,n.suburl(),r),n.size(r.length+1))}));var i=e.setParam,a=e.getParam;e.setParam=function(t,n,a){var s=r.indexOf(t);return s>=0?(o[t]=n,this._segment.update("",n,s+1),a?e.show(null):void 0):i.call(this,t,n,a)},e.getParam=function(t,e){var n=o[t];return void 0!==n?n:a.call(this,t,e)},N(o,e.getUrl(),r)}},B=window;B.Promise||(B.Promise=B.webix.promise)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n(5),o=function(t){return t<10?"0"+t:t};function i(t,e){var n=!1,r=void 0,o=void 0;return function i(){if(n)return r=arguments,void(o=this);t.apply(this,arguments),n=!0,setTimeout((function(){n=!1,r&&(i.apply(o,r),r=o=null)}),e)}}var a=function(t,e){return!e||webix.filters.date.lessOrEqual(webix.Date.datePart(t.DT,!0),e)},s=function(t,e){return webix.filters.date.greaterOrEqual(webix.Date.datePart(t.DT,!0),e)},u=function(t){return Object.values(r.a.data.pull).filter((function(t){return t.$checked})).some((function(e){return e.FULLNAME===t.FULLNAME}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u}));var r="/api",o=r+"/dashboards/latecomers/pie",i=r+"/dashboards/latecomers/line",a=r+"/dashboards/latecomers/details",s=r+"/dashboards/latecomers/bar",u={c_ee4339:"#ee4339",c_ee9336:"#ee9336",c_eed236:"#eed236",c_d3ee36:"#d3ee36",c_66cc00:"#66cc00",c_1ca295:"#1ca295",c_5fb863:"#5fb863",c_a7ee70:"#a7ee70",c_58dccd:"#58dccd",c_36abee:"#36abee",c_476cee:"#476cee",c_1293f8:"#1293f8",c_a244ea:"#a244ea",c_e33fc7:"#e33fc7",c_ea1e63:"#ea1e63",c_f16997:"#f16997",c_f4574c:"#f4574c"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(34),o=n(10);var i=new(function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.a))(o.b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(34),o=n(10);var i=new(function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.a))(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),o=new webix.DataCollection({url:r.a+"/employees"})},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var a=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return o.icons={today:{template:function(){return"<span class='webix_cal_icon_today webix_cal_icon'>"+webix.i18n.calendar.today+"</span>"},on_click:{webix_cal_icon_today:function(){this.setValue(new Date),this.callEvent("onTodaySet",[this.getSelectedDate()])}}},clear:{template:function(){return"<span class='webix_cal_icon_clear webix_cal_icon'>"+webix.i18n.calendar.clear+"</span>"},on_click:{webix_cal_icon_clear:function(){this.setValue(""),this.callEvent("onDateClear",[this.getSelectedDate()])}}}},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onKeyPressHandler=function(t){return function(e,n){var r=this;if(46===e){if(this.getEditState())return;this.editCancel();var o=this.getSelectedId();if(o){var i=this.getNextId(o);webix.confirm({title:"Внимание!",type:"confirm-warning",text:"Это приведёт к удалению из БД. Удалить запись?"}).then((function(){t.remove(o),i&&r.select(i),r.getBody().focus()}))}}}},e.prototype.onBeforeDropHandler=function(t,e){return function(n,r){var o=n.from,a=n.source,s=(n.to,new Date);return"employees_list"===o.config.id&&(t.add(i({ID:webix.uid(),FULLNAME:o.getItem(a[0]).FULLNAME,DT:s,TM:s},e),0),this.select(t.getFirstId())),!1}},e.prototype.onHeaderClickHandler=function(t,e,n){var r=this.getState().sort;if(r&&"desc"===r.dir)return this.sort({as:"int",dir:"asc",by:"id"}),this.markSorting(),this.setState(r),!1},e.prototype.onItemClickHandler=function(t){return function(e,n,r){if("TM"===e.column){var o=$$(t);o.show(n),o.getBody(n).focus()}else"NOTE"!==e.column&&this.editCell(e.row,e.column)}},e.prototype.config=function(){return{view:"datatable",columns:[{id:"FULLNAME",header:["ФИО"],adjust:"data",sort:"string"},{id:"NOTE",header:"Примечание",fillspace:!0,editor:"text"},{id:"ACTION",header:["Действие"]},{adjust:"data",id:"DT",header:["Дата"],editor:"date",sort:"string",format:webix.Date.dateToStr("%d.%m.%Y"),css:{cursor:"pointer"}},{width:80,id:"TM",header:["Время"],format:webix.Date.dateToStr("%H:%i"),sort:function(t,e){var n=Object(o.b)(t.TM.getHours())+":"+Object(o.b)(t.TM.getMinutes()),r=Object(o.b)(e.TM.getHours())+":"+Object(o.b)(e.TM.getMinutes());return n>r?1:n<r?-1:0},css:{cursor:"pointer"}}],editable:!0,drag:!0,editaction:"custom",select:!0,css:"unselectable",resizeColumn:{headerOnly:!0,size:12},on:{onHeaderClick:this.onHeaderClickHandler,onAfterEditStop:function(t,e,n){},onItemDblClick:function(t,e,n){"NOTE"===t.column&&this.editCell(t.row,t.column)}}}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),webix.editors.$popup={date:{view:"popup",id:"date:popup",body:{view:"calendar",icons:[this.icons.today]}}}},e}(r.c);e.default=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=new webix.DataCollection({on:{onBeforeLoad:function(){webix.delay((function(){webix.extend($$(e),webix.ProgressBar),$$(e).showProgress()}))},onAfterLoad:function(){$$(e).hideProgress()}}})}return t.prototype.url=function(){},t.prototype.refresh=function(t,e,n){return this.data.clearAll(),this.data.load(this.url(t,e,n))},r(t,[{key:"data",get:function(){return this._data}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"addPickedDateToDtItems",(function(){return s})),n.d(e,"generateColumns",(function(){return u}));var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=[{id:"ОП",value:"ОП"},{id:"ОП(УВ)",value:"ОП(УВ)"},{id:"ОТ",value:"ОТ"},{id:"Н",value:"Н"},{id:"БОЛ",value:"БОЛ"},{id:"КОМ",value:"КОМ"}];function i(t){var e=$$("datepicker").getValue(),n=e.getFullYear(),r=e.getMonth()+1,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,s=o.getDate();return n===i&&r===a&&s===t?"#ddFFdd":""}function a(t){switch(t){case"ОП":return"latecomers-bad";case"ОП(УВ)":return"latecomers-good";case"Н":return"latecomers-empty";case"ОТ":return"latecomers-vacation"}}function s(t,e){var n=Object.values(t.data.pull),o=e.getValue();n.forEach((function(t){Object.keys(t).forEach((function(e){""===t[e]&&(t[e]=null)}))}));for(var i=n.map((function(t){return r({},t,{M:o.getMonth()+1,Y:o.getFullYear()})})),a={},s=0;s<i.length;s++)a[s+1]=i[s];return a}function u(t){return Array.from(Array(t),(function(t,e){return{id:"D"+(e+1),header:{text:("0"+(e+1)).slice(-2),css:{background:i(e+1),"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}},width:42,optionslist:!0,options:o,editor:"multiselect",cssFormat:a,css:{"text-align":"center",background:i(e+1),"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",color:"blue"},suggest:{view:"checksuggest",button:!0,width:130,body:{template:function(t){return t.value},yCount:10}}}}))}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.r(e);var i=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"datepicker",labelWidth:30,labelAlign:"right",width:160}},e}(n(0).c);e.default=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n(1),o=n(2),i=o.a+"/timesheet/arrival",a=o.a+"/timesheet/leave",s=function(t){return webix.proxy("rest",t,{save:Object(r.d)((function(t,e){var n=webix.proxy.rest.save.call(this,t,e);return n.then((function(t){return t.json()})).then((function(t){return console.log(t)})),n}),500)})}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var a=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return i._id=o,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.slideHandler=function(t){var e=this._id;return function(){var n=$$(e.split(":")[0]),r=Object(o.b)(this.getValue()),a=n.getSelectedId(),s=n.getItem(a.row),u=webix.i18n.timeFormatStr(s.TM).split(":"),c=u[0],l=u[1];n.updateItem(a.row,i({},s,{TM:webix.i18n.timeFormatDate(t(r,[c,l]))}))}},e.prototype.config=function(){var t={view:"slider",id:this._id+":slider_h",title:function(t){return Object(o.b)(t.value)},min:0,max:23,on:{onItemClick:this.slideHandler((function(t,e){e[0];return t+":"+e[1]})),onSliderDrag:this.slideHandler((function(t,e){e[0];return t+":"+e[1]}))}},e={view:"slider",id:this._id+":slider_m",title:function(t){return Object(o.b)(t.value)},min:0,max:59,on:{onItemClick:this.slideHandler((function(t,e){var n=e[0];e[1];return n+":"+t})),onSliderDrag:this.slideHandler((function(t,e){var n=e[0];e[1];return n+":"+t}))}};return{view:"popup",id:this._id+":editWindow",width:250,body:{view:"form",id:this._id+":form",scroll:!1,elements:[t,e]}}},e}(r.c);e.default=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(7),o=n(2);var i=new(function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.url=function(t,e,n){return o.d+"/"+t+"/"+e+"/"+n},e}(r.a))("latecomers:details")},function(t,e,n){"use strict";n.r(e);var r=n(0);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"sidebar",id:"left_sidebar:menu",css:"webix_sidebar webix_dark",width:240,scroll:"auto",data:[{id:"dashboards",icon:"mdi mdi-view-dashboard",value:"Панель Мониторинга",data:[{id:"latecomers_charts",value:"Опоздания"}]},{id:"tables",icon:"mdi mdi-table",value:"Таблицы с данными",data:[{id:"data",value:"График дежурства"},{id:"latecomers",value:"Табель"}]}]}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.open("dashboards"),this.use(r.d.Menu,"left_sidebar:menu")},e}(r.c);e.default=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(31),i=n(2);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{id:"latecomers:bar_chart",view:"chart",type:"bar",value:"#VAL#",label:"#VAL#",color:i.b.c_1293f8,xAxis:{template:"#MONTH#",title:"Месяц"},yAxis:{title:"Количество",template:function(t){return t%5?"":t}}}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a.data)},e}(r.c);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(32),i=n(12),a=n(33),s=n(31);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{id:"latecomers:control_panel",rows:[{id:"calendar",view:"calendar",events:webix.Date.isHoliday,icons:[{template:function(){return"<span class='webix_cal_icon_today webix_cal_icon'>"+webix.i18n.calendar.today+"</span>"},on_click:{webix_cal_icon_today:function(){this.setValue(new Date),this.callEvent("onTodaySet",[this.getSelectedDate()])}}}],on:{onChange:function(t,e){var n=t[0],r=n.getFullYear(),u=n.getMonth()+1,c=n.getDate();o.a.refresh(c,u,r),a.a.refresh(c,u,r),s.a.refresh(c,u,r);var l=$$("latecomers:details");console.log(l),i.a.refresh(c,u,r).then((function(){var t=i.a.data.data.pull,e=Object.values(t).map((function(t){return t.OP_MONTH})),n=Math.max.apply(Math,e);l.eachRow((function(t){var e=l.getItem(t);e.OP_MONTH===n?l.addRowCss(e.id,"datatable-skipped"):e.OP_MONTH&&l.addRowCss(e.id,"latecomers-active")}))}))}}},{}]}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),$$("calendar").selectDate(new Date)},e}(r.c);e.default=l},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(12);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{id:"latecomers:details",view:"datatable",gravity:.5,columns:[{id:"ROWNUM",header:"#",adjust:"data"},{id:"FULLNAME",header:"ФИО",fillspace:!0},{id:"OP_MONTH",header:"С начала года",adjust:"header",css:{"text-align":"center"}}],select:!0}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a.data)},e}(r.c);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(2),i=n(33);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"chart",id:"latecomers:line_chart",type:"line",value:"#VAL#",label:"#VAL#",item:{borderColor:o.b.c_1293f8,shadow:!0,radius:4},line:{color:o.b.c_1293f8,width:3},xAxis:{template:"#DAY#",title:"День"},offset:0,yAxis:{title:"Количество",template:function(t){return t%1?"":t}},tooltip:{template:function(t){return t.FIO_LIST?t.FIO_LIST.split(";").filter((function(t){return t})).join("<br>"):"Нет данных"}}}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(i.a.data)},e}(r.c);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(32);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{id:"latecomers:pie_chart",gravity:.5,view:"chart",type:"donut",value:"#VAL#",tooltip:"#FULLNAME#",pieInnerText:"#VAL#",legend:{template:function(t){return t.FULLNAME.split(" ")[0]},align:"left",valign:"middle",layout:"y",width:100,margin:8},css:"pie-inner-text"}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a.data)},e}(r.c);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.r(e),n.d(e,"TabbarView",(function(){return i}));var i=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"tabbar",id:"tabbar",multiview:!0,optionWidth:220,height:36,options:[{value:"Табель",id:"workSheet"},{value:"ВХОД/ВЫХОД",id:"timeSheet"}]}},e}(n(0).c)},function(t,e,n){"use strict";n.r(e),n.d(e,"TabbarCellsView",(function(){return y}));var r=n(0),o=n(21),i=n(22),a=n(23),s=n(24),u=n(25),c=n(26),l=n(27),f=n(28),p=n(29),h=n(30);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var y=function(t){function e(){return d(this,e),b(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{animate:{type:"slide",duration:350},cells:[{id:"workSheet",rows:[o.default,i.default]},{id:"timeSheet",cols:[a.default,{rows:[{cols:[s.default,u.FromDatepickerView,c.ToDatepickerView,{},l.ExcelExportIconView]},{cols:[{header:"ВЫХОД",body:p.default,id:"tabbar:exit"},{header:"ВХОД",body:f.default,id:"tabbar:enter"},h.ExcelExportDatatableView]}]}]}]}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n)},e.prototype.ready=function(e,n){t.prototype.ready.call(this,e,n),webix.html.addCss($$("tabbar:exit").getNode().getElementsByClassName("webix_accordionitem_label")[0],"red"),webix.html.addCss($$("tabbar:enter").getNode().getElementsByClassName("webix_accordionitem_label")[0],"green")},e}(r.c)},function(t,e,n){"use strict";n.r(e);var r=n(8),o=n(2);e.default={view:"toolbar",paddingX:10,height:36,cols:[{view:"datepicker",id:"datepicker",width:130,stringResult:!1,format:"%M %Y",value:new Date,suggest:{view:"suggest",type:"calendar",body:{view:"calendar",type:"month",icons:!0,minDate:new Date(2021,1,1),maxDate:new Date((new Date).getFullYear(),11,1)}},on:{onChange:function(t,e,n){var i=$$("latecomers"),a=i.config.columns,s=t.getMonth()+1,u=t.getFullYear(),c=new Date(u,s,0).getDate();a.splice(1,a.length);var l=a[0];i.config.columns=[l].concat(Object(r.generateColumns)(c)),i.refreshColumns(),i.clearAll(),i.load((function(){return webix.ajax().get(o.a+"/latecomers/"+s+"/"+u)}))}}},{},{view:"icon",icon:"mdi mdi-microsoft-excel",tooltip:"Скачать в Excel",click:function(){var t=$$("datepicker").getValue(),e=webix.Date.dateToStr("%F %Y")(t);webix.toExcel("latecomers",{filename:"Табель на "+e,styles:!0})}},{width:15}]}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(8),i=n(2);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=$$("datepicker").getValue(),e=t.getFullYear(),n=t.getMonth()+1,r=new Date(e,n,0).getDate();return{view:"datatable",id:"latecomers",url:i.a+"/latecomers",save:function(t,e,n){var r=this;this.showProgress({type:"bottom"});var a=Object(o.addPickedDateToDtItems)(this,$$("datepicker"));webix.ajax().post(i.a+"/latecomers",a).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(){return webix.message({type:"error",text:"Ошибка соединения с сервером"})})).finally((function(){return r.hideProgress()}))},css:"webix_header_border webix_data_border",select:"row",editable:!0,editaction:"dblclick",leftSplit:1,resizeColumn:{headerOnly:!0,size:12},columns:[{id:"FULLNAME",header:"ФИО",fillspace:!0,minWidth:270,sort:"string",resize:!0}].concat(Object(o.generateColumns)(r)),on:{onBeforeLoad:function(){webix.extend(this,webix.ProgressBar),this.showProgress()},onAfterLoad:function(){var t=this;this.hideProgress(),this.config.columns.map((function(t){return t.id})).filter((function(t){return"D"===t[0]})).forEach((function(e){t.getColumnConfig(e).adjust=!0,t.refreshColumns()}))},onHeaderClick:function(t,e,n){var r=this.getState().sort;if(r&&"desc"===r.dir)return this.sort({as:"int",dir:"asc",by:"id"}),this.markSorting(),this.setState(r),!1},onItemClick:function(t,e,n){var r=this,o=$$("datepicker").getValue().getMonth()+1,i=(new Date).getMonth()+1,a=(new Date).getDate();this.data.each((function(e,n){Object.keys(e).forEach((function(n){r.removeCellCss(e.id,n,"webix_row_select"),r.removeCellCss(e.id,n,"bordered"),"FULLNAME"===t.column||i===o&&t.column.includes(a)||r.addCellCss(e.id,t.column,"webix_row_select"),e.id===t.row&&r.addCellCss(e.id,n,"webix_row_select")}))})),this.addCellCss(t.row,t.column,"bordered"),this.config.columns.forEach((function(t){i===o&&t.header[0].text.includes(a)||(t.header[0].css="")})),i===o&&t.column.includes(a)||(this.getColumnConfig(t.column).header[0].css={background:"#c9eaf5"}),this.refreshColumns()},onAfterEditStop:function(t,e,n){(t.value||t.old)&&this.adjustColumn(e.column)}}}},e.prototype._update=function(t){var e=t.data.url;t.clearAll(),t.load(e)},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n);this.refreshDataInterval=setInterval(this._update,9e5,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),clearInterval(this.refreshDataInterval)},e}(r.c);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(5),i=n(3),a=n(4);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),u(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"list",id:"employees_list",width:300,template:"#ROWNUM#. #FULLNAME#",select:!0,drag:!0,scroll:"auto",on:{onBeforeDrop:function(t,e){var n=t.from;if(n!==this){var r="right"===n.config.id?i.a.getData():a.a.getData();webix.confirm({title:"Внимание!",type:"confirm-warning",text:"Это приведёт к удалению из БД. Удалить запись?"}).then((function(){r.remove(t.start)}))}return!1}}}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a),e.$view.oncontextmenu=function(){return!1}},e}(r.c);e.default=c},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(5),i=n(4),a=n(3),s=n(1);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"multiselect",id:"employees:multiselect",width:300,options:{data:o.a},suggest:{body:{yCount:15,data:o.a,template:"#FULLNAME#"},selectAll:!0},on:{onChange:function(t,e,n){var r=$$("from:datepicker").getValue(),o=$$("to:datepicker").getValue();i.a.getData().filter((function(t){return Object(s.c)(t,r)&&Object(s.e)(t,o)&&Object(s.a)(t)})),a.a.getData().filter((function(t){return Object(s.c)(t,r)&&Object(s.e)(t,o)&&Object(s.a)(t)}))}}}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),o.a.waitData.then((function(){e.setValue(o.a.data.order)}))},e}(r.c);e.default=l},function(t,e,n){"use strict";n.r(e),n.d(e,"FromDatepickerView",(function(){return l}));var r=n(9),o=n(4),i=n(3),a=n(1),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return s({},t.prototype.config.call(this),{id:"from:datepicker",label:"С",on:{onChange:function(t,e,n){var r=$$("to:datepicker"),s=r.getValue();r.getPopup().getBody().config.minDate=t,r.refresh(),o.a.getData().filter((function(e){return Object(a.c)(e,t)&&Object(a.e)(e,s)&&Object(a.a)(e)})),i.a.getData().filter((function(e){return Object(a.c)(e,t)&&Object(a.e)(e,s)&&Object(a.a)(e)}))}}})},e}(r.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"ToDatepickerView",(function(){return l}));var r=n(9),o=n(4),i=n(1),a=n(3),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return u(this,e),c(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return s({},t.prototype.config.call(this),{label:"По",id:"to:datepicker",on:{onChange:function(t,e,n){var r=$$("from:datepicker"),s=r.getValue();r.getPopup().getBody().config.maxDate=null===t?void 0:t,r.refresh(),o.a.getData().filter((function(e){return Object(i.c)(e,s)&&Object(i.e)(e,t)&&Object(i.a)(e)})),a.a.getData().filter((function(e){return Object(i.c)(e,s)&&Object(i.e)(e,t)&&Object(i.a)(e)}))}}})},e}(r.default)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.r(e),n.d(e,"ExcelExportIconView",(function(){return i}));var i=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{view:"icon",icon:"mdi mdi-microsoft-excel",tooltip:"Скачать в Excel",click:function(){var t=$$("left"),e=$$("right"),n=$$("excel:export"),r=webix.copy(t.data.order),o=webix.copy(t.data.pull),i=webix.copy(e.data.order),a=webix.copy(e.data.pull);r.map((function(t){return o[t]})).concat(i.map((function(t){return a[t]}))).forEach((function(t){return n.add(t)})),webix.toExcel(n,{filename:"Данные на "+(new Date).toLocaleString()}).then((function(t){return console.log(t)})).finally((function(){return n.clearAll()}))}}},e}(n(0).c)},function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(4),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var e=t.prototype.config.call(this),n=e.on,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["on"]);return i({id:"left",on:i({},n,{onBeforeDrop:this.onBeforeDropHandler(o.a.getData(),{ACTION:"ВХОД"}),onItemClick:this.onItemClickHandler("left:editWindow"),onAfterSelect:function(t,e){var n=this.getItem(t.id),r=webix.i18n.timeFormatStr(n.TM).split(":"),o=r[0],i=r[1];$$("left:slider_h").setValue(o),$$("left:slider_m").setValue(i)},onKeyPress:this.onKeyPressHandler(o.a.getData())})},r)},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a.getData())},e.prototype.urlChange=function(e,n){t.prototype.urlChange.call(this,e,n),o.a.refresh()},e.prototype.ready=function(e,n){t.prototype.ready.call(this,e,n)},e}(r.default);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(3),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var e=t.prototype.config.call(this),n=e.on,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["on"]);return i({id:"right",on:i({},n,{onBeforeDrop:this.onBeforeDropHandler(o.a.getData(),{ACTION:"ВЫХОД"}),onItemClick:this.onItemClickHandler("right:editWindow"),onAfterSelect:function(t,e){var n=this.getItem(t.id),r=webix.i18n.timeFormatStr(n.TM).split(":"),o=r[0],i=r[1];$$("right:slider_h").setValue(o),$$("right:slider_m").setValue(i)},onKeyPress:this.onKeyPressHandler(o.a.getData()),onAfterDrag:function(t,e){return console.log(t),!1}})},r)},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),e.parse(o.a.getData())},e.prototype.urlChange=function(e,n){t.prototype.urlChange.call(this,e,n),o.a.refresh()},e}(r.default);e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.r(e),n.d(e,"ExcelExportDatatableView",(function(){return i}));var i=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var e=t.prototype.config.call(this);return{view:e.view,id:"excel:export",hidden:!0,columns:e.columns}},e}(n(6).default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(7),o=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=new(function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.url=function(t,e,n){return o.c+"/"+t+"/"+e+"/"+n},e}(r.a))("latecomers:bar_chart")},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2);var o=new(function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.url=function(t,e,n){return r.f+"/"+t+"/"+e+"/"+n},e}(n(7).a))("latecomers:pie_chart")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(7),o=n(2);var i=new(function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.url=function(t,e,n){return o.e+"/"+t+"/"+e+"/"+n},e}(r.a))("latecomers:line_chart")},function(t,e,n){"use strict";var r=n(10),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e,this._data=new webix.DataCollection({save:Object(r.c)(this._url),on:{onBeforeLoad:function(){console.log("onBeforeLoad")},onAfterLoad:function(){console.log("onAfterLoad")}}})}return t.prototype.refresh=function(){var t=this;this._data.clearAll(),this._data.load({$proxy:!0,load:function(e,n){return webix.ajax().get(t._url).then((function(t){return t.json()})).then((function(t){return t.map((function(t){var e=o({},t),n=t.DT.split("T")[0],r=t.TM.split("T"),i=(r[0],r[1]),a=n.split("-"),s=a[0],u=a[1],c=a[2],l=i.split(":"),f=l[0],p=l[1];return e.DT=new Date(Date.UTC(s,u-1,c)),e.TM=new Date(Date.UTC(s,u-1,c,f,p)),e}))}))}})},t.prototype.getData=function(){return this._data},t}();e.a=i},function(t,e,n){"use strict";n.r(e),n.d(e,"Utils",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.monthYear=function(){var t=new Date;return{month:t.getMonth()+1,year:t.getFullYear()}},t}()},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(19),i=n(20);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{rows:[o.TabbarView,i.TabbarCellsView]}},e}(r.c);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(17),o=n(16),i=n(18),a=n(14),s=n(15);e.default={rows:[{view:"toolbar",elements:[{},{view:"icon",icon:"mdi mdi-menu",click:function(){var t=$$("latecomers:control_panel");t.isVisible()?t.hide():t.show()}}]},{cols:[{id:"latecomers_charts",rows:[{cols:[i.default,{view:"resizer"},r.default]},{view:"resizer"},{cols:[o.default,{view:"resizer"},a.default]}]},s.default]}]}},function(t,e,n){"use strict";n.r(e),e.default={cols:[{template:"overdue_events"},{view:"resizer"},{template:"control panel",width:280}]}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(11),i=n(13);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){return{id:"top",rows:[{view:"toolbar",css:"webix_dark",elements:[{view:"icon",icon:"mdi mdi-menu",click:function(){return $$("left_sidebar:menu").toggle()}},{view:"label",label:"PARUS BUSINESS"},{}]},{cols:[i.default,{$subview:!0}]}]}},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),webix.i18n.setLocale("ru-RU"),e.$view.oncontextmenu=function(){return!1}},e.prototype.ready=function(e,n){t.prototype.ready.call(this,e,n),this._leftPopup=new o.default(this.app,"Arrival time editor","left"),this._rightPopup=new o.default(this.app,"Leave time editor","right"),webix.ui(this._leftPopup.config()),webix.ui(this._rightPopup.config())},e}(r.c);e.default=u},function(t,e){},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(2);var i=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i,a,s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return s.lastUsedRow=null,s.onMouseMovingEvent=null,s.isItemTaken=!1,s.onMouseMovingHandler=(o=function(t){try{var e=this.locate(t).row;e!==this.lastUsedRow&&this.removeRowCss(this.lastUsedRow,"hover"),this.addRowCss(e,"hover"),this.lastUsedRow=e}catch(t){}},i=15,a=!1,function(){if(!a){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.apply(this,e),a=!0,setTimeout((function(){return a=!1}),i)}}),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.config=function(){var t=this;return{view:"datatable",id:"dt",url:o.a+"/kitchen-attendant",save:"rest->"+o.a+"/kitchen-attendant/change",columns:[{id:"NUM",header:{text:"Очередь"},width:95,sort:"int"},{id:"FULLNAME",header:["ФИО"],minWidth:270,fillspace:!0,editor:"text",sort:"string"},{id:"IS_ACTIVE",header:"Дежурный",width:110,template:"{common.radio()}",sort:"int"},{id:"SKIPPED",header:"Освобождение от дежурства",width:240,sort:"int",template:function(t,e,n){return n?"<input class='webix_table_checkbox' type='checkbox' checked />":"<input class='webix_table_checkbox' type='checkbox' "+(t.IS_ACTIVE?"disabled='disabled'":"")+"'/>"}},{id:"LAST_ACTIVE",header:"Последнее дежурство",width:200,format:function(t){var e=t?t.split("T"):[];if(e.length){var n=new Date(e[0]);return webix.Date.dateToStr("%d.%m.%Y")(n)}return""},sort:"string"}],headermenu:{width:250,autoheight:!0,autowidth:!0},scroll:!1,select:!0,editable:!0,editaction:"dblclick",drag:"order",dragColumn:"order",resizeColumn:{size:12},on:{onBeforeLoad:function(){webix.extend(this,webix.ProgressBar),this.showProgress()},onAfterLoad:function(){this.hideProgress(),$$("dt").eachRow((function(t){var e=this.getItem(t),n=e.IS_ACTIVE,r=e.SKIPPED;n&&this.addRowCss(t,"datatable-active"),r&&this.addRowCss(t,"datatable-skipped")}))},onCheck:function(t,e,n){var r=this;switch(e){case"IS_ACTIVE":webix.dp(this).save(t),this.eachRow((function(t){r.removeCss(t,"datatable-active")})),this.addRowCss(t,"datatable-active");break;case"SKIPPED":n?this.addRowCss(t,"datatable-skipped"):this.removeRowCss(t,"datatable-skipped")}},onHeaderClick:function(t,e,n){var r=this.getState().sort;if(r&&"desc"===r.dir)return this.sort({as:"int",dir:"asc",by:"NUM"}),this.markSorting(),this.setState(r),!1},"data->onStoreUpdated":function(){this.data.each((function(t,e){t.index=e+1}))},onBeforeDrag:function(e,n){t.isItemTaken=!0,e.from.detachEvent(t.onMouseMovingEvent)},onAfterDrop:function(t,e){var n=t.from.getItem(t.start),r=n.NUM,i=n.index;r!==i&&webix.ajax().post(o.a+"/kitchen-attendant/change-order",{NUM:r,index:i}).then((function(t){return t.json()})).then((function(e){return console.log(e),t.from.clearAll(),t.from.load(o.a+"/kitchen-attendant")})).then((function(t){return t.json()})).then((function(t){webix.message("Данные обновлены")}))}},onMouseMove:{}}},e.prototype.init=function(e,n){var r=this;t.prototype.init.call(this,e,n),webix.event(document.body,webix.env.mouse.up,(function(t){r.isItemTaken&&(r.isItemTaken=!1,r.onMouseMovingEvent=e.attachEvent("onMouseMoving",r.onMouseMovingHandler))})),this.onMouseMovingEvent=e.attachEvent("onMouseMoving",this.onMouseMovingHandler)},e}(r.c);e.default=i},function(t,e,n){"use strict";n.r(e);n(43);var r=n(0),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i={id:"webix-jet-app",version:"1.1.0",router:r.a,debug:!1,start:"/top/latecomers_charts"};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o({},i,n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.b);e.default=i,webix.ready((function(){return(new i).render()}))},function(t,e,n){},function(t,e,n){var r={"./SidebarMenuView":13,"./SidebarMenuView.js":13,"./dashboards/Utils":35,"./dashboards/Utils.js":35,"./dashboards/latecomers/BarChartView":14,"./dashboards/latecomers/BarChartView.js":14,"./dashboards/latecomers/ControlSidebar":15,"./dashboards/latecomers/ControlSidebar.js":15,"./dashboards/latecomers/DatatableView":16,"./dashboards/latecomers/DatatableView.js":16,"./dashboards/latecomers/LineChartView":17,"./dashboards/latecomers/LineChartView.js":17,"./dashboards/latecomers/PieChartView":18,"./dashboards/latecomers/PieChartView.js":18,"./data":41,"./data.js":41,"./latecomers":36,"./latecomers.js":36,"./latecomers/LatecomersDatatableView":22,"./latecomers/LatecomersDatatableView.js":22,"./latecomers/TabbarCellsView":20,"./latecomers/TabbarCellsView.js":20,"./latecomers/TabbarView":19,"./latecomers/TabbarView.js":19,"./latecomers/functions":8,"./latecomers/functions.js":8,"./latecomers/latecomers_toolbar":21,"./latecomers/latecomers_toolbar.js":21,"./latecomers/timesheet/ArrivalDatatableView":28,"./latecomers/timesheet/ArrivalDatatableView.js":28,"./latecomers/timesheet/BaseDatatableView":6,"./latecomers/timesheet/BaseDatatableView.js":6,"./latecomers/timesheet/DatepickerView":9,"./latecomers/timesheet/DatepickerView.js":9,"./latecomers/timesheet/EmployeesListView":23,"./latecomers/timesheet/EmployeesListView.js":23,"./latecomers/timesheet/EmployeesMultiselectView":24,"./latecomers/timesheet/EmployeesMultiselectView.js":24,"./latecomers/timesheet/ExcelExportDatatableView":30,"./latecomers/timesheet/ExcelExportDatatableView.js":30,"./latecomers/timesheet/ExcelExportIconView":27,"./latecomers/timesheet/ExcelExportIconView.js":27,"./latecomers/timesheet/FromDatepickerView":25,"./latecomers/timesheet/FromDatepickerView.js":25,"./latecomers/timesheet/LeaveDatatableView":29,"./latecomers/timesheet/LeaveDatatableView.js":29,"./latecomers/timesheet/TimeEditorPopupView":11,"./latecomers/timesheet/TimeEditorPopupView.js":11,"./latecomers/timesheet/ToDatepickerView":26,"./latecomers/timesheet/ToDatepickerView.js":26,"./latecomers_charts":37,"./latecomers_charts.js":37,"./overdue_events":38,"./overdue_events.js":38,"./top":39,"./top.js":39};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=44},function(t,e,n){var r={"./en":40,"./en.js":40};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=45}]);